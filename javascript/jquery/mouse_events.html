<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Events: mouse handling</title>
    <script src="jquery-3.4.1.js"></script>
    <style>
        #pad {
            background: #def;
            border: 1px solid #aaa;
        }
    </style>
</head>
<body>
    <canvas id="pad" width="480" height="320"></canvas>
    <script>

        let canvas = $("#pad")[0];
        let context = canvas.getContext("2d");
        let pendown = false;

        $("#pad").mousemove(function(event) {
            let xpos = event.pageX - canvas.offsetLeft;
            let ypos = event.pageY - canvas.offsetTop;

            if (pendown) context.lineTo(xpos, ypos);
            else context.moveTo(xpos, ypos);

            context.stroke();
        });

        $("#pad").mousedown(function() { pendown = true; });
        $("#pad").mouseup(function() { pendown = false; });
    </script>
</body>
</html>